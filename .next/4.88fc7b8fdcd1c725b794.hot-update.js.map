{"version":3,"file":"4.88fc7b8fdcd1c725b794.hot-update.js","sources":["webpack:///pages/topics.js"],"sourcesContent":["import React from 'react'\nimport axios from 'axios'\nimport { withRouter } from 'next/router'\nimport fetch from 'isomorphic-unfetch'\n\nimport Base from '../layouts/base'\nimport Link from 'next/link'\nimport Head from 'next/head'\n\nimport Tag from '../components/Tag'\n\n\nclass Index extends React.Component {\n  constructor() {\n    super()\n    this.state = {\n      topics: [],\n      conferences: [],\n    }\n  }\n\n  static async getInitialProps(ctx) {\n    const topic = ctx.query.topic\n    const url = 'http://localhost:3001/conferences?topics_like='+topic\n    const res = await fetch(url)\n    const conferences = await res.json()\n\n    return { conferences, topic }\n  }\n\n  componentDidMount() {\n    const url = 'http://localhost:3001/topics'\n\n    axios\n    .get(url)\n    .then(response => {\n      const topics = response.data\n      this.setState({ topics })\n    })\n    .catch(error => {\n      console.log('error', error)\n    })\n  }\n\n  render() {\n    const { topic, conferences } = this.props\n    const { topics } = this.state\n    return (\n      <Base>\n        <Head>\n          <title>Confs {topic}</title>\n        </Head>\n        <div className=\"container\">\n          <header className=\"header\">\n            <h1>Confs {topic}</h1>\n          </header>\n          <div className=\"row\">\n            <aside className=\"sidebar\">\n              <div>\n                <h5 className=\"subtitle\">\n                  Topics\n                </h5>\n                <ul className=\"tags\">\n                  { topics.map(topic => <Tag key={ topic } topic={topic} />) }\n                </ul>\n              </div>\n              <div>\n                <h5 className=\"subtitle\">\n                  About\n                </h5>\n                <ul className=\"links\">\n                  <li className=\"link\">\n                    <Link href=\"/about\">\n                      <a>About</a>\n                    </Link>\n                  </li>\n                  <li className=\"link\">\n                    <Link href=\"/privacity\">\n                      <a>Privacity</a>\n                    </Link>\n                  </li>\n                </ul>\n              </div>\n            </aside>\n            <main className=\"main\">\n              <h5 className=\"subtitle\">\n                Conferences\n              </h5>\n\n              { conferences.map(conference => <article className=\"article\">\n                <h2 className=\"article-title\">\n                  <a ahref={ conference.url }>\n                    { conference.title }\n                  </a>\n                </h2>\n                <p className=\"article-description\">{ conference.place } | { conference.start } - { conference.end }</p>\n  \n                <div className=\"tags\">\n                  {\n                    conference.topics.map(topic => <Tag key={ topic } topic={ topic } />)\n                  }\n                </div>\n              </article>) }\n            </main>\n          </div>\n        </div>\n      </Base>\n    )\n  }\n}\n\nexport default withRouter(Index)\n\n\n// WEBPACK FOOTER //\n// pages/topics.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AAUA;AAAA;AACA;AAAA;AAEA;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAVA;AAmBA;;;;;;AAvFA;;;;;;AACA;AACA;;AACA;AACA;;AADA;;AACA;AACA;;AADA;AAEA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;AAhBA;AACA;AAkGA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}